\begin{tikzpicture}
    \begin{axis}[width=0.9\textwidth,height=0.9\textheight,
        ybar, axis on top,
        bar width=16,
        title={1000 philosophers with 100 buckets},
        xtick={1,2,3,4,20,60},
        symbolic x coords={1,2,3,4,20,60},
        x tick label style={/pgf/number format/1000 sep=},
        xlabel={threads},
        %y tick label style={/pgf/number format/1000 sep=},
        % extra y ticks={456.1, 1022.4},
        % extra y tick labels={{456,1},{1022,4}},
        % extra y tick style={grid=major,
        %     tick label style={xshift=-1cm}},
        ylabel={seconds},
        enlarge x limits=0.2,
        nodes near coords,
        nodes near coords align={vertical},
        %
        legend style={
            at={(0.5,-0.1)},
            anchor=north,
            legend columns=-1,
            /tikz/every even column/.append style={column sep=0.5cm}
        }
        ]

        \addplot table [y=master, col sep=comma,trim cells=true] {data/performanceMeasurements100buckets.csv};
        \addplot table [y=atomics, col sep=comma,trim cells=true] {data/performanceMeasurements100buckets.csv};
        \addplot table [ y=mara-atomics, col sep=comma,trim cells=true] {data/performanceMeasurements100buckets.csv};
        \addplot table [y=mara-pthread, col sep=comma,trim cells=true] {data/performanceMeasurements100buckets.csv};
        \legend{Unchanged, CAS, MaraCAS, MaraPThread}
    \end{axis}
\end{tikzpicture}